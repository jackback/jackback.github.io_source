---
title: Java中四中内部类
date: 2016-05-28 12:22:33
tags: [内部类]
categories: Java
---

# 常规内部类
    public class A{
      private int a = 100;
      
      class B{  //其中可以直接使用外部类A中的实例变量和方法
        int b;
      }
      public void createB{  //在外部类方法中创建内部类实例
        B c = new B();
      }
    
      public static void main(){
        A out = new A();
        A.B in = new out.B(); //内部类通过A实例创建对象
    
      }
    }

# 静态内部类（静态内部类与静态内部方法相似）

由于static内部类不具有任何对外部类实例的引用，因此static内部类中不能使用this关键字来访问外部类中的实例成员，
但是可以访问外部类中的static成员。

    MyOuter.MyInner si=new MyOuter.MyInner();//静态内部类不通过外部实例就可以创建对象

# 局部内部类
	在方法体或语句块（包括方法、构造方法、局部块或静态初始化块）内部定义的类成为局部内部类。
	局部内部类不能加任何访问修饰符，因为它只对局部块有效。

 1.局部内部类只在方法体中有效，就想定义的局部变量一样，在定义的方法体外不能创建局部内部类的对象
 1.方法定义局部内部类同方法定义局部变量一样，不能使用private、protected、public等访问修饰说明符修饰，也不能使用static修饰，但可以使用final和   abstract修饰

# 匿名内部类
  定义类的最终目的是创建一个类的实例，但是如果某个类的实例只是用一次，则可以将类的定义与类的创建，
  放到与一起完成，或者说在定义类的同时就创建一个类

    new ClassOrInterfaceName(){
        /*类体*/ 
    }
  匿名内部类可以继承一个类或实现一个接口，这里的ClassOrInterfaceName是匿名内部类所继承的类名或实现的接口名。
  但匿名内部类不能同时实现一个接口和继承一个类，也不能实现多个接口。如果实现了一个接口，该类是Object类的直接子类，
  匿名类继承一个类或实现一个接口，不需要extends和implements关键字。

由于匿名内部类没有名称，所以类体中不能定义构造方法，由于不知道类名也不能使用关键字来创建该类的实例。实际上匿名内部类的定义、构造、和第一次使用都发生在同样一个地方。此外，上式是一个表达式，返回的是一个对象的引用，所以可以直接使用或将其复制给一个对象变量。例：

    TypeName obj=new Name（）{
        /*此处为类体*/
    }

  同样，也可以将构造的对象作为调用的参数。例：
    someMethod(new Name(){
        /*此处为类体*/  
      }
    );


